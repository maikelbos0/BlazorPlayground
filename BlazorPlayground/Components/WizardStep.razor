
@if (Parent?.ActiveStep == this) {
    @ChildContent
}

@code {
    [CascadingParameter]
    private Wizard Parent { get; set; }

    [Parameter]
    public string Title { get; set; }

    [Parameter]
    public EventCallback<InitializeStepEventArgs> OnInitializeStep { get; set; }

    [Parameter]
    public EventCallback<TryCompleteStepEventArgs> OnTryCompleteStep { get; set; }

    [Parameter]
    public RenderFragment ChildContent { get; set; }

    protected override async Task OnInitializedAsync() {
        Parent.AddStep(this);

        // TODO this inits all steps in one go, probably should change that
        await OnInitializeStep.InvokeAsync(new InitializeStepEventArgs());
    }
}
